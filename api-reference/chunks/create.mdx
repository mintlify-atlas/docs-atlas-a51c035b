---
title: "Create Chunk"
description: "Create new chunk(s) in your dataset. Chunks can be created individually or in batches."
---

<RequestExample>
```bash cURL
curl -X POST https://api.trieve.ai/api/chunk \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "TR-Dataset: YOUR_DATASET_ID" \
  -H "Content-Type: application/json" \
  -d '{
    "chunk_html": "<p>Some HTML content</p>",
    "link": "https://example.com",
    "tag_set": ["tag1", "tag2"],
    "metadata": {"key1": "value1", "key2": "value2"},
    "tracking_id": "tracking_id",
    "time_stamp": "2021-01-01 00:00:00.000",
    "location": {
      "lat": -34,
      "lon": 151
    },
    "weight": 0.5
  }'
```

```typescript TypeScript SDK
import { TrieveSDK } from "trieve-ts-sdk";

const trieve = new TrieveSDK({
  apiKey: "YOUR_API_KEY",
  datasetId: "YOUR_DATASET_ID"
});

const chunk = await trieve.createChunk({
  chunk_html: "<p>Some HTML content</p>",
  link: "https://example.com",
  tag_set: ["tag1", "tag2"],
  metadata: {key1: "value1", key2: "value2"},
  tracking_id: "tracking_id",
  time_stamp: "2021-01-01 00:00:00.000",
  location: {
    lat: -34,
    lon: 151
  },
  weight: 0.5
});
```

```python Python SDK
from trieve_py_client import TrieveSDK

trieve = TrieveSDK(
  api_key="YOUR_API_KEY",
  dataset_id="YOUR_DATASET_ID"
)

chunk = trieve.create_chunk(
  chunk_html="<p>Some HTML content</p>",
  link="https://example.com",
  tag_set=["tag1", "tag2"],
  metadata={"key1": "value1", "key2": "value2"},
  tracking_id="tracking_id",
  time_stamp="2021-01-01 00:00:00.000",
  location={
    "lat": -34,
    "lon": 151
  },
  weight=0.5
)
```
</RequestExample>

## Method and Path

<CodeGroup>
```http
POST /api/chunk
```
</CodeGroup>

## Authentication

Requires API key with **admin** role for the specified dataset's organization.

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token for authentication
</ParamField>

<ParamField header="TR-Dataset" type="string" required>
  The dataset id or tracking_id to use for the request. We assume you intend to use an id if the value is a valid uuid.
</ParamField>

## Request Body

You can create a single chunk or multiple chunks in batch (up to 120 chunks).

### Single Chunk

<ParamField body="chunk_html" type="string" optional>
  HTML content of the chunk. This can also be plaintext. The innerText of the HTML will be used to create the embedding vector.
</ParamField>

<ParamField body="semantic_content" type="string" optional>
  If present, it will be used for creating semantic embeddings instead of the innerText `chunk_html`.
</ParamField>

<ParamField body="fulltext_content" type="string" optional>
  If present, it will be used for creating the fulltext and bm25 sparse vectors instead of the innerText `chunk_html`.
</ParamField>

<ParamField body="link" type="string" optional>
  Link to the chunk. This can also be any string. Frequently, this is a link to the source of the chunk.
</ParamField>

<ParamField body="tag_set" type="array" optional>
  List of tags. This can be used to filter chunks by tag. HNSW indices will exist for each tag such that there is not a performance hit for filtering on them.
</ParamField>

<ParamField body="num_value" type="number" optional>
  Arbitrary numerical value that can be used to filter chunks. There is no performance hit for filtering on num_value.
</ParamField>

<ParamField body="metadata" type="object" optional>
  JSON object which can be used to filter chunks. Unlike with tag filtering, there is a performance hit for filtering on metadata.
</ParamField>

<ParamField body="tracking_id" type="string" optional>
  String which can be used to identify a chunk. Useful for coordinating with an external system.
</ParamField>

<ParamField body="upsert_by_tracking_id" type="boolean" optional>
  Upsert when a chunk with the same tracking_id exists. By default this is false.
</ParamField>

<ParamField body="group_ids" type="array" optional>
  Trieve generated ids of the groups that the chunk should be placed into.
</ParamField>

<ParamField body="group_tracking_ids" type="array" optional>
  User-assigned tracking_ids of the groups that the chunk should be placed into. If a group with the tracking_id does not exist, it will be created.
</ParamField>

<ParamField body="time_stamp" type="string" optional>
  ISO 8601 combined date and time without timezone. Used for time window filtering and recency-biasing search results.
</ParamField>

<ParamField body="location" type="object" optional>
  GeoInfo object which lets you specify a latitude and longitude for later filtering.
  <Expandable title="properties">
    <ParamField body="lat" type="number" required>
      Latitude
    </ParamField>
    <ParamField body="lon" type="number" required>
      Longitude
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="image_urls" type="array" optional>
  List of urls to images that are associated with the chunk.
</ParamField>

<ParamField body="weight" type="number" optional>
  Float which can be used to bias search results. The magnitude only matters relative to other chunks in the dataset.
</ParamField>

<ParamField body="split_avg" type="boolean" optional>
  Boolean which tells the server to split the text in the chunk_html into smaller chunks and average their resulting vectors. Default is false.
</ParamField>

<ParamField body="convert_html_to_text" type="boolean" optional>
  Convert HTML to raw text before processing to avoid adding noise to the vector embeddings. Default is true.
</ParamField>

<ParamField body="fulltext_boost" type="object" optional>
  Boost certain phrases in the fulltext (SPLADE) and BM25 search results.
  <Expandable title="properties">
    <ParamField body="phrase" type="string" required>
      The phrase to boost
    </ParamField>
    <ParamField body="boost_factor" type="number" required>
      Amount to multiplicatively increase the frequency of the tokens
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="semantic_boost" type="object" optional>
  Move the embedding vector of the chunk in the direction of the distance phrase.
  <Expandable title="properties">
    <ParamField body="phrase" type="string" required>
      Terms to embed to create the vector
    </ParamField>
    <ParamField body="distance_factor" type="number" required>
      Multiplier factor to apply before summing with the chunk_html embedding vector
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="high_priority" type="boolean" optional>
  Place this chunk into a priority queue with its own ingestion workers. Can only be used by users with a Custom Pro plan.
</ParamField>

### Batch Chunks

To create multiple chunks, pass an array of chunk objects (max 120 chunks).

## Response

<ResponseField name="chunk_metadata" type="object">
  The chunk that got queued
  <Expandable title="properties">
    <ResponseField name="id" type="string">
      Unique identifier for the chunk
    </ResponseField>
    <ResponseField name="content" type="string">
      The text content of the chunk
    </ResponseField>
    <ResponseField name="link" type="string">
      Link associated with the chunk
    </ResponseField>
    <ResponseField name="tag_set" type="array">
      Tags associated with the chunk
    </ResponseField>
    <ResponseField name="metadata" type="object">
      Metadata object associated with the chunk
    </ResponseField>
    <ResponseField name="tracking_id" type="string">
      Tracking ID of the chunk
    </ResponseField>
    <ResponseField name="time_stamp" type="string">
      Timestamp of the chunk
    </ResponseField>
    <ResponseField name="weight" type="number">
      Weight for search biasing
    </ResponseField>
  </Expandable>
</ResponseField>

## Status Codes

<ResponseField name="200" type="Success">
  Chunk(s) successfully queued for creation
</ResponseField>

<ResponseField name="400" type="Error">
  Deserialization error or invalid request
</ResponseField>

<ResponseField name="413" type="Error">
  More than 120 chunks provided in bulk
</ResponseField>

<ResponseField name="426" type="Error">
  Upgrade needed to process more chunks
</ResponseField>
